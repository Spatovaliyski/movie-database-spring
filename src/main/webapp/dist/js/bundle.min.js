"use strict";jQuery(document).ready(function(e){e("#login-form").submit(function(t){t.preventDefault(),e.ajax({url:"/login",method:"POST",data:{username:e("#username").val(),password:e("#password").val()},success:function(t){window.location.replace(t),console.log(t)},fail:function(t){console.log(t),window.location.href="error.html"}})}),e("#updateuser").submit(function(t){t.preventDefault(),console.log("test"),e.ajax({url:"/updateUser",method:"POST",data:{username:e("#username").val(),oldPassword:e("#oldPassword").val(),newPassword:e("#newPassword").val(),repeatPassword:e("#repeatPassword").val(),email:e("#email").val()},success:function(t){window.location.replace(t),console.log(t)},fail:function(t){console.log(t),window.location.href="error.html"}})})}),jQuery("document").ready(function(o){o("body").addClass("loaded"),console.log("Scripts loaded!");var n,t,e,a,s="ca3d69ee336e43d8099727f0d7ce3859";function i(){o.ajax({url:"/whoAmI",method:"GET",complete:function(t){switch(t.status){case 200:t.responseJSON;break;case 401:window.location.href="index.html"}},fail:function(){window.location.href="index.html"}})}o("#logout").on("click",function(){o.ajax({url:"logout",method:"POST",complete:function(t){401==t.status&&alert("ERROR!"),window.location.href="index.html"}})}),o("body").hasClass("page-movie")?(a=new URL(document.location).searchParams.get("id"),n=a,console.log(n),o.ajax({url:"https://api.themoviedb.org/3/movie/"+n+"?api_key="+s,contentType:"application/json",dataType:"json",success:function(t){console.log(t);t.vote_average;var e=new Date(t.release_date);o(".single-movie-poster").append('<img src="https://image.tmdb.org/t/p/w1920_and_h800_multi_faces/'.concat(t.poster_path,'">')),o(".single-movie-thumbnail").append('<picture><img src="https://image.tmdb.org/t/p/w440_and_h660_face/'.concat(t.poster_path,'"></picture>')),o(".single-movie-title").append("".concat(t.title)+"<span class='single-movie-date'>("+e.getFullYear()+")</span>"),o(".single-movie-overview").append("".concat(t.overview));var a=[];jQuery.each(t.genres,function(t,e){return a.push(String(e.name).split(",")[0])}),o(".single-movie-details .runtime").prepend(t.runtime),o(".single-movie-details .genres").append(a.join(", ")),o(".movie-id").val(n)}})):(t="2020",e="",o(".movie-item").remove(),o.ajax({url:"https://api.themoviedb.org/3/discover/movie?api_key="+s+"&year="+t+"&with_genres="+e,contentType:"application/json",dataType:"json",success:function(t){jQuery.each(t.results,function(t,e){var a=e.vote_average<=7?"dist/images/thumbs-down-solid.svg":"dist/images/thumbs-up-solid.svg";o(".movies-list").append('\n\t\t\t\t\t\t<li class="movie-item">\n\t\t\t\t\t\t\t<a class="movie-item-link" href="movie.html?id='.concat(e.id,'">\n\t\t\t\t\t\t\t\t<div class="movie-rating"><span>').concat(e.vote_average,'</span><img class="movie-recommendation" src="').concat(a,'" alt=""/></div>\n\t\t\t\t\t\t\t\t<aside class="movie-thumbnail">\n\t\t\t\t\t\t\t\t\t<picture><img src="https://image.tmdb.org/t/p/w440_and_h660_face/').concat(e.poster_path,'"></picture>\n\t\t\t\t\t\t\t\t</aside>\n\t\t\t\t\t\t\t\t<div class="movie-meta">\n\t\t\t\t\t\t\t\t\t<p class="movie-release-date">').concat(e.release_date,'</p>\n\t\t\t\t\t\t\t\t\t<h2 class="movie-title">').concat(e.title,'</h2>\n\t\t\t\t\t\t\t\t\t<div class="movie-description">').concat(e.overview,"</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t"))})}})),o("body").hasClass("page-login")||(o("body").hasClass("page-error")?setTimeout(function(){i()},2e3):o("body").hasClass("page-register")||i())});